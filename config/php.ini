; Redirect errors to the container stderr
error_log = "/dev/stderr"

; Make sure _ENV is populated to use it in wp-config.php
variables_order = "EGPCS"

; Hide PHP version info in response headers
expose_php = Off

; Upload limits (configurable via env)
post_max_size = ${WP_POST_MAX_SIZE:-64M}
upload_max_filesize = ${WP_UPLOAD_MAX_FILESIZE:-64M}

; Memory limit (configurable via env, required for WooCommerce)
memory_limit = ${WP_MEMORY_LIMIT:-512M}

; Execution limits (configurable via env)
max_execution_time = ${WP_MAX_EXECUTION_TIME:-120}
max_input_vars = ${WP_MAX_INPUT_VARS:-5000}

; Security settings
display_errors = Off
log_errors = On
allow_url_fopen = Off

[Date]
; Set default timezone, you can configure the timezone in Wordpress
date.timezone = "UTC"

; ---------- OPcache (production, configurable via env) ----------
[opcache]
opcache.enable=1
opcache.enable_cli=0
opcache.memory_consumption=${OPCACHE_MEMORY_CONSUMPTION:-256}
opcache.interned_strings_buffer=16
opcache.max_accelerated_files=${OPCACHE_MAX_ACCELERATED_FILES:-200000}
opcache.max_wasted_percentage=10
opcache.use_cwd=1
opcache.validate_timestamps=0
opcache.revalidate_freq=0
opcache.fast_shutdown=1
opcache.save_comments=1
opcache.jit=0
opcache.jit_buffer_size=0